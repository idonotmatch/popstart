"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/search";
exports.ids = ["pages/api/search"];
exports.modules = {

/***/ "ioredis":
/*!**************************!*\
  !*** external "ioredis" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("ioredis");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/search.js */ \"(api)/./pages/api/search.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/search\",\n        pathname: \"/api/search\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNlYXJjaCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGc2VhcmNoLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tEO0FBQ2xEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktZ3JhcGhxbC1wcm9qZWN0Lz85YzRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvc2VhcmNoLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2VhcmNoXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2VhcmNoXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/search.js":
/*!*****************************!*\
  !*** ./pages/api/search.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ioredis */ \"ioredis\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ioredis__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// Initialize Redis client with fallback\nlet redisClient;\ntry {\n    redisClient = new (ioredis__WEBPACK_IMPORTED_MODULE_1___default())(process.env.REDIS_URL, {\n        maxRetriesPerRequest: 1,\n        retryStrategy: ()=>null\n    });\n    redisClient.on(\"error\", (err)=>{\n        console.warn(\"Redis Client Error:\", err);\n        redisClient = null; // Disable Redis client on error\n    });\n} catch (error) {\n    console.warn(\"Failed to initialize Redis:\", error);\n    redisClient = null;\n}\n// Cache helper function\nconst cacheHelper = {\n    get: async (key)=>{\n        if (redisClient) {\n            try {\n                return await redisClient.get(key);\n            } catch (error) {\n                console.warn(\"Redis get error:\", error);\n            }\n        }\n        return null;\n    },\n    set: async (key, value, options)=>{\n        if (redisClient) {\n            try {\n                await redisClient.set(key, value, options);\n            } catch (error) {\n                console.warn(\"Redis set error:\", error);\n            }\n        }\n    }\n};\nconst mapProduct = (item, source)=>{\n    if (source === \"walmart\") {\n        return {\n            asin: item.id || \"\",\n            brand: item.brand || \"N/A\",\n            title: item.name || \"\",\n            link: item.url || \"\",\n            image: item.image || \"\",\n            isPrime: false,\n            rating: item.rating?.average_rating ? Number(item.rating.average_rating).toFixed(1) : \"0.0\",\n            ratingsTotal: item.rating?.number_of_reviews || 0,\n            price: item.price ? `${item.price_currency}${Number(item.price).toFixed(2)}` : \"N/A\",\n            availability: item.availability || \"Unavailable\",\n            source: \"walmart\",\n            sponsored: item.sponsored || false\n        };\n    } else if (source === \"amazon\") {\n        return {\n            asin: item.asin || \"\",\n            brand: item.brand || \"N/A\",\n            title: item.name || \"\",\n            link: item.url || \"\",\n            image: item.image || \"\",\n            isPrime: item.has_prime || false,\n            rating: item.stars ? Number(item.stars).toFixed(1) : \"0.0\",\n            ratingsTotal: item.total_reviews || 0,\n            price: item.price ? `$${Number(item.price).toFixed(2)}` : \"N/A\",\n            availability: item.availability || \"Unavailable\",\n            source: \"amazon\",\n            sponsored: item.sponsored || false\n        };\n    }\n};\nconst filterSponsoredProducts = (products)=>{\n    return products.filter((product)=>!product.sponsored);\n};\nconst fetchProducts = async (term, source, sortBy, page = 1)=>{\n    const url = `https://api.scraperapi.com/structured/${source}/search`;\n    const params = {\n        api_key: process.env.SCRAPER_API_KEY,\n        query: term,\n        country: \"us\",\n        page: page.toString(),\n        sort_by: sortBy || \"\",\n        exclude_sponsored: \"true\"\n    };\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url, {\n            params\n        });\n        console.log(`Raw API response from ${source}:`, JSON.stringify(response.data, null, 2));\n        let jsonData = response.data;\n        let results = [];\n        let totalPages = 1;\n        if (source === \"walmart\" && jsonData.items) {\n            results = jsonData.items;\n            totalPages = jsonData.total_pages || 1;\n        } else if (source === \"amazon\" && jsonData.results) {\n            results = jsonData.results;\n            totalPages = jsonData.total_pages || 1;\n        } else {\n            console.error(`Invalid API response structure from ${source}:`, jsonData);\n            return {\n                results: [],\n                totalPages: 0\n            };\n        }\n        const mappedResults = results.map((item)=>mapProduct(item, source));\n        console.log(`Mapped results for ${source}:`, JSON.stringify(mappedResults, null, 2));\n        return {\n            results: filterSponsoredProducts(mappedResults),\n            totalPages\n        };\n    } catch (error) {\n        console.error(`Error fetching data from ${source} API:`, error.message);\n        throw error;\n    }\n};\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).end();\n    }\n    const { term, page = \"1\", sort_by, source = \"all\" } = req.query;\n    res.setHeader(\"Content-Type\", \"application/json\");\n    const results = [];\n    const streamResults = async (sourceToFetch)=>{\n        const cacheKey = `search:${sourceToFetch}:${term}:${sort_by}:${page}`;\n        try {\n            const cachedResults = await cacheHelper.get(cacheKey);\n            if (cachedResults) {\n                results.push({\n                    source: sourceToFetch,\n                    ...JSON.parse(cachedResults)\n                });\n            } else {\n                const { results: sourceResults, totalPages } = await fetchProducts(term, sourceToFetch, sort_by, parseInt(page));\n                results.push({\n                    source: sourceToFetch,\n                    results: sourceResults,\n                    totalPages\n                });\n                await cacheHelper.set(cacheKey, JSON.stringify({\n                    results: sourceResults,\n                    totalPages\n                }), {\n                    EX: 3600\n                }); // Cache for 1 hour\n            }\n        } catch (error) {\n            console.error(`Error streaming results from ${sourceToFetch}:`, error.message);\n            results.push({\n                source: sourceToFetch,\n                error: `Failed to fetch data from ${sourceToFetch}: ${error.message}`\n            });\n        }\n    };\n    if (source === \"all\") {\n        await Promise.all([\n            streamResults(\"walmart\"),\n            streamResults(\"amazon\")\n        ]);\n    } else {\n        await streamResults(source);\n    }\n    res.status(200).json(results);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQzFHZSxRQUFRa0IsSUFBSSxDQUFDO29CQUFFL0QsUUFBUTREO29CQUFlZixTQUFTb0I7b0JBQWVuQjtnQkFBVztnQkFDekUsTUFBTXRELFlBQVlHLEdBQUcsQ0FBQ2tFLFVBQVVwQixLQUFLQyxTQUFTLENBQUM7b0JBQUVHLFNBQVNvQjtvQkFBZW5CO2dCQUFXLElBQUk7b0JBQUVxQixJQUFJO2dCQUFLLElBQUksbUJBQW1CO1lBQzVIO1FBQ0YsRUFBRSxPQUFPNUUsT0FBTztZQUNkRixRQUFRRSxLQUFLLENBQUMsQ0FBQyw2QkFBNkIsRUFBRXFFLGNBQWMsQ0FBQyxDQUFDLEVBQUVyRSxNQUFNNEQsT0FBTztZQUM3RU4sUUFBUWtCLElBQUksQ0FBQztnQkFBRS9ELFFBQVE0RDtnQkFBZXJFLE9BQU8sQ0FBQywwQkFBMEIsRUFBRXFFLGNBQWMsRUFBRSxFQUFFckUsTUFBTTRELE9BQU8sQ0FBQyxDQUFDO1lBQUM7UUFDOUc7SUFDRjtJQUVBLElBQUluRCxXQUFXLE9BQU87UUFDcEIsTUFBTW9FLFFBQVFDLEdBQUcsQ0FBQztZQUNoQlYsY0FBYztZQUNkQSxjQUFjO1NBQ2Y7SUFDSCxPQUFPO1FBQ0wsTUFBTUEsY0FBYzNEO0lBQ3RCO0lBRUFzRCxJQUFJRSxNQUFNLENBQUMsS0FBS2MsSUFBSSxDQUFDekI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1ncmFwaHFsLXByb2plY3QvLi9wYWdlcy9hcGkvc2VhcmNoLmpzPzVkM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBSZWRpcyBmcm9tICdpb3JlZGlzJztcblxuLy8gSW5pdGlhbGl6ZSBSZWRpcyBjbGllbnQgd2l0aCBmYWxsYmFja1xubGV0IHJlZGlzQ2xpZW50O1xudHJ5IHtcbiAgcmVkaXNDbGllbnQgPSBuZXcgUmVkaXMocHJvY2Vzcy5lbnYuUkVESVNfVVJMLCB7XG4gICAgbWF4UmV0cmllc1BlclJlcXVlc3Q6IDEsXG4gICAgcmV0cnlTdHJhdGVneTogKCkgPT4gbnVsbFxuICB9KTtcbiAgcmVkaXNDbGllbnQub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgIGNvbnNvbGUud2FybignUmVkaXMgQ2xpZW50IEVycm9yOicsIGVycik7XG4gICAgcmVkaXNDbGllbnQgPSBudWxsOyAvLyBEaXNhYmxlIFJlZGlzIGNsaWVudCBvbiBlcnJvclxuICB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGluaXRpYWxpemUgUmVkaXM6JywgZXJyb3IpO1xuICByZWRpc0NsaWVudCA9IG51bGw7XG59XG5cbi8vIENhY2hlIGhlbHBlciBmdW5jdGlvblxuY29uc3QgY2FjaGVIZWxwZXIgPSB7XG4gIGdldDogYXN5bmMgKGtleSkgPT4ge1xuICAgIGlmIChyZWRpc0NsaWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlZGlzQ2xpZW50LmdldChrZXkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdSZWRpcyBnZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgc2V0OiBhc3luYyAoa2V5LCB2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICAgIGlmIChyZWRpc0NsaWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcmVkaXNDbGllbnQuc2V0KGtleSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdSZWRpcyBzZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgbWFwUHJvZHVjdCA9IChpdGVtLCBzb3VyY2UpID0+IHtcbiAgaWYgKHNvdXJjZSA9PT0gJ3dhbG1hcnQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFzaW46IGl0ZW0uaWQgfHwgJycsXG4gICAgICBicmFuZDogaXRlbS5icmFuZCB8fCAnTi9BJyxcbiAgICAgIHRpdGxlOiBpdGVtLm5hbWUgfHwgJycsXG4gICAgICBsaW5rOiBpdGVtLnVybCB8fCAnJyxcbiAgICAgIGltYWdlOiBpdGVtLmltYWdlIHx8ICcnLFxuICAgICAgaXNQcmltZTogZmFsc2UsXG4gICAgICByYXRpbmc6IGl0ZW0ucmF0aW5nPy5hdmVyYWdlX3JhdGluZyA/IE51bWJlcihpdGVtLnJhdGluZy5hdmVyYWdlX3JhdGluZykudG9GaXhlZCgxKSA6ICcwLjAnLFxuICAgICAgcmF0aW5nc1RvdGFsOiBpdGVtLnJhdGluZz8ubnVtYmVyX29mX3Jldmlld3MgfHwgMCxcbiAgICAgIHByaWNlOiBpdGVtLnByaWNlID8gYCR7aXRlbS5wcmljZV9jdXJyZW5jeX0ke051bWJlcihpdGVtLnByaWNlKS50b0ZpeGVkKDIpfWAgOiBcIk4vQVwiLFxuICAgICAgYXZhaWxhYmlsaXR5OiBpdGVtLmF2YWlsYWJpbGl0eSB8fCBcIlVuYXZhaWxhYmxlXCIsXG4gICAgICBzb3VyY2U6ICd3YWxtYXJ0JyxcbiAgICAgIHNwb25zb3JlZDogaXRlbS5zcG9uc29yZWQgfHwgZmFsc2UsXG4gICAgfTtcbiAgfSBlbHNlIGlmIChzb3VyY2UgPT09ICdhbWF6b24nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFzaW46IGl0ZW0uYXNpbiB8fCAnJyxcbiAgICAgIGJyYW5kOiBpdGVtLmJyYW5kIHx8ICdOL0EnLFxuICAgICAgdGl0bGU6IGl0ZW0ubmFtZSB8fCAnJyxcbiAgICAgIGxpbms6IGl0ZW0udXJsIHx8ICcnLFxuICAgICAgaW1hZ2U6IGl0ZW0uaW1hZ2UgfHwgJycsXG4gICAgICBpc1ByaW1lOiBpdGVtLmhhc19wcmltZSB8fCBmYWxzZSxcbiAgICAgIHJhdGluZzogaXRlbS5zdGFycyA/IE51bWJlcihpdGVtLnN0YXJzKS50b0ZpeGVkKDEpIDogJzAuMCcsXG4gICAgICByYXRpbmdzVG90YWw6IGl0ZW0udG90YWxfcmV2aWV3cyB8fCAwLFxuICAgICAgcHJpY2U6IGl0ZW0ucHJpY2UgPyBgJCR7TnVtYmVyKGl0ZW0ucHJpY2UpLnRvRml4ZWQoMil9YCA6IFwiTi9BXCIsXG4gICAgICBhdmFpbGFiaWxpdHk6IGl0ZW0uYXZhaWxhYmlsaXR5IHx8IFwiVW5hdmFpbGFibGVcIixcbiAgICAgIHNvdXJjZTogJ2FtYXpvbicsXG4gICAgICBzcG9uc29yZWQ6IGl0ZW0uc3BvbnNvcmVkIHx8IGZhbHNlLFxuICAgIH07XG4gIH1cbn07XG5cbmNvbnN0IGZpbHRlclNwb25zb3JlZFByb2R1Y3RzID0gKHByb2R1Y3RzKSA9PiB7XG4gIHJldHVybiBwcm9kdWN0cy5maWx0ZXIocHJvZHVjdCA9PiAhcHJvZHVjdC5zcG9uc29yZWQpO1xufTtcblxuY29uc3QgZmV0Y2hQcm9kdWN0cyA9IGFzeW5jICh0ZXJtLCBzb3VyY2UsIHNvcnRCeSwgcGFnZSA9IDEpID0+IHtcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLnNjcmFwZXJhcGkuY29tL3N0cnVjdHVyZWQvJHtzb3VyY2V9L3NlYXJjaGA7XG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICBhcGlfa2V5OiBwcm9jZXNzLmVudi5TQ1JBUEVSX0FQSV9LRVksXG4gICAgcXVlcnk6IHRlcm0sXG4gICAgY291bnRyeTogJ3VzJyxcbiAgICBwYWdlOiBwYWdlLnRvU3RyaW5nKCksXG4gICAgc29ydF9ieTogc29ydEJ5IHx8ICcnLFxuICAgIGV4Y2x1ZGVfc3BvbnNvcmVkOiAndHJ1ZSdcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KHVybCwgeyBwYXJhbXMgfSk7XG4gICAgY29uc29sZS5sb2coYFJhdyBBUEkgcmVzcG9uc2UgZnJvbSAke3NvdXJjZX06YCwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSwgbnVsbCwgMikpO1xuXG4gICAgbGV0IGpzb25EYXRhID0gcmVzcG9uc2UuZGF0YTtcblxuICAgIGxldCByZXN1bHRzID0gW107XG4gICAgbGV0IHRvdGFsUGFnZXMgPSAxO1xuXG4gICAgaWYgKHNvdXJjZSA9PT0gJ3dhbG1hcnQnICYmIGpzb25EYXRhLml0ZW1zKSB7XG4gICAgICByZXN1bHRzID0ganNvbkRhdGEuaXRlbXM7XG4gICAgICB0b3RhbFBhZ2VzID0ganNvbkRhdGEudG90YWxfcGFnZXMgfHwgMTtcbiAgICB9IGVsc2UgaWYgKHNvdXJjZSA9PT0gJ2FtYXpvbicgJiYganNvbkRhdGEucmVzdWx0cykge1xuICAgICAgcmVzdWx0cyA9IGpzb25EYXRhLnJlc3VsdHM7XG4gICAgICB0b3RhbFBhZ2VzID0ganNvbkRhdGEudG90YWxfcGFnZXMgfHwgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBBUEkgcmVzcG9uc2Ugc3RydWN0dXJlIGZyb20gJHtzb3VyY2V9OmAsIGpzb25EYXRhKTtcbiAgICAgIHJldHVybiB7IHJlc3VsdHM6IFtdLCB0b3RhbFBhZ2VzOiAwIH07XG4gICAgfVxuXG4gICAgY29uc3QgbWFwcGVkUmVzdWx0cyA9IHJlc3VsdHMubWFwKGl0ZW0gPT4gbWFwUHJvZHVjdChpdGVtLCBzb3VyY2UpKTtcbiAgICBjb25zb2xlLmxvZyhgTWFwcGVkIHJlc3VsdHMgZm9yICR7c291cmNlfTpgLCBKU09OLnN0cmluZ2lmeShtYXBwZWRSZXN1bHRzLCBudWxsLCAyKSk7XG5cbiAgICByZXR1cm4geyByZXN1bHRzOiBmaWx0ZXJTcG9uc29yZWRQcm9kdWN0cyhtYXBwZWRSZXN1bHRzKSwgdG90YWxQYWdlcyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIGRhdGEgZnJvbSAke3NvdXJjZX0gQVBJOmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKCk7XG4gIH1cblxuICBjb25zdCB7IHRlcm0sIHBhZ2UgPSAnMScsIHNvcnRfYnksIHNvdXJjZSA9ICdhbGwnIH0gPSByZXEucXVlcnk7XG5cbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgY29uc3Qgc3RyZWFtUmVzdWx0cyA9IGFzeW5jIChzb3VyY2VUb0ZldGNoKSA9PiB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgc2VhcmNoOiR7c291cmNlVG9GZXRjaH06JHt0ZXJtfToke3NvcnRfYnl9OiR7cGFnZX1gO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYWNoZWRSZXN1bHRzID0gYXdhaXQgY2FjaGVIZWxwZXIuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgaWYgKGNhY2hlZFJlc3VsdHMpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHsgc291cmNlOiBzb3VyY2VUb0ZldGNoLCAuLi5KU09OLnBhcnNlKGNhY2hlZFJlc3VsdHMpIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyByZXN1bHRzOiBzb3VyY2VSZXN1bHRzLCB0b3RhbFBhZ2VzIH0gPSBhd2FpdCBmZXRjaFByb2R1Y3RzKHRlcm0sIHNvdXJjZVRvRmV0Y2gsIHNvcnRfYnksIHBhcnNlSW50KHBhZ2UpKTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHsgc291cmNlOiBzb3VyY2VUb0ZldGNoLCByZXN1bHRzOiBzb3VyY2VSZXN1bHRzLCB0b3RhbFBhZ2VzIH0pO1xuICAgICAgICBhd2FpdCBjYWNoZUhlbHBlci5zZXQoY2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KHsgcmVzdWx0czogc291cmNlUmVzdWx0cywgdG90YWxQYWdlcyB9KSwgeyBFWDogMzYwMCB9KTsgLy8gQ2FjaGUgZm9yIDEgaG91clxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBzdHJlYW1pbmcgcmVzdWx0cyBmcm9tICR7c291cmNlVG9GZXRjaH06YCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICByZXN1bHRzLnB1c2goeyBzb3VyY2U6IHNvdXJjZVRvRmV0Y2gsIGVycm9yOiBgRmFpbGVkIHRvIGZldGNoIGRhdGEgZnJvbSAke3NvdXJjZVRvRmV0Y2h9OiAke2Vycm9yLm1lc3NhZ2V9YCB9KTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHNvdXJjZSA9PT0gJ2FsbCcpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBzdHJlYW1SZXN1bHRzKCd3YWxtYXJ0JyksXG4gICAgICBzdHJlYW1SZXN1bHRzKCdhbWF6b24nKVxuICAgIF0pO1xuICB9IGVsc2Uge1xuICAgIGF3YWl0IHN0cmVhbVJlc3VsdHMoc291cmNlKTtcbiAgfVxuXG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdHMpO1xufSJdLCJuYW1lcyI6WyJheGlvcyIsIlJlZGlzIiwicmVkaXNDbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiUkVESVNfVVJMIiwibWF4UmV0cmllc1BlclJlcXVlc3QiLCJyZXRyeVN0cmF0ZWd5Iiwib24iLCJlcnIiLCJjb25zb2xlIiwid2FybiIsImVycm9yIiwiY2FjaGVIZWxwZXIiLCJnZXQiLCJrZXkiLCJzZXQiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJtYXBQcm9kdWN0IiwiaXRlbSIsInNvdXJjZSIsImFzaW4iLCJpZCIsImJyYW5kIiwidGl0bGUiLCJuYW1lIiwibGluayIsInVybCIsImltYWdlIiwiaXNQcmltZSIsInJhdGluZyIsImF2ZXJhZ2VfcmF0aW5nIiwiTnVtYmVyIiwidG9GaXhlZCIsInJhdGluZ3NUb3RhbCIsIm51bWJlcl9vZl9yZXZpZXdzIiwicHJpY2UiLCJwcmljZV9jdXJyZW5jeSIsImF2YWlsYWJpbGl0eSIsInNwb25zb3JlZCIsImhhc19wcmltZSIsInN0YXJzIiwidG90YWxfcmV2aWV3cyIsImZpbHRlclNwb25zb3JlZFByb2R1Y3RzIiwicHJvZHVjdHMiLCJmaWx0ZXIiLCJwcm9kdWN0IiwiZmV0Y2hQcm9kdWN0cyIsInRlcm0iLCJzb3J0QnkiLCJwYWdlIiwicGFyYW1zIiwiYXBpX2tleSIsIlNDUkFQRVJfQVBJX0tFWSIsInF1ZXJ5IiwiY291bnRyeSIsInRvU3RyaW5nIiwic29ydF9ieSIsImV4Y2x1ZGVfc3BvbnNvcmVkIiwicmVzcG9uc2UiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImpzb25EYXRhIiwicmVzdWx0cyIsInRvdGFsUGFnZXMiLCJpdGVtcyIsInRvdGFsX3BhZ2VzIiwibWFwcGVkUmVzdWx0cyIsIm1hcCIsIm1lc3NhZ2UiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwic2V0SGVhZGVyIiwic3RyZWFtUmVzdWx0cyIsInNvdXJjZVRvRmV0Y2giLCJjYWNoZUtleSIsImNhY2hlZFJlc3VsdHMiLCJwdXNoIiwicGFyc2UiLCJzb3VyY2VSZXN1bHRzIiwicGFyc2VJbnQiLCJFWCIsIlByb21pc2UiLCJhbGwiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/search.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();