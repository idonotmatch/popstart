"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/search";
exports.ids = ["pages/api/search"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/search.js */ \"(api)/./pages/api/search.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/search\",\n        pathname: \"/api/search\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNlYXJjaCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGc2VhcmNoLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tEO0FBQ2xEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktZ3JhcGhxbC1wcm9qZWN0Lz85YzRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvc2VhcmNoLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2VhcmNoXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2VhcmNoXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/search.js":
/*!*****************************!*\
  !*** ./pages/api/search.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst mapBluecartProduct = (item)=>({\n        asin: item.product.item_id,\n        brand: item.product.brand,\n        title: item.product.title,\n        link: item.product.link,\n        image: item.product.main_image || (item.product.images.length > 0 ? item.product.images[0] : \"\"),\n        isPrime: false,\n        rating: item.product.rating || 0,\n        ratingsTotal: item.product.ratings_total || 0,\n        price: item.offers.primary ? `${item.offers.primary.currency_symbol}${item.offers.primary.price}` : \"N/A\",\n        availability: item.inventory.in_stock ? \"In stock\" : \"Out of stock\",\n        delivery: {\n            tagline: item.fulfillment.shipping ? `Shipping available in ${item.fulfillment.shipping_days} days` : \"No shipping available\",\n            price: \"\" // No delivery price information in the sample provided\n        },\n        shoppingAdvisors: []\n    });\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        console.log(\"Method not allowed\");\n        return res.status(405).end(); // Method Not Allowed\n    }\n    const { term, page } = req.query;\n    const rainforestParams = {\n        api_key: process.env.RAINFOREST_API_KEY,\n        type: \"search\",\n        amazon_domain: \"amazon.com\",\n        search_term: term,\n        exclude_sponsored: \"true\",\n        currency: \"usd\",\n        associate_id: \"ctrio-20\",\n        page: page || \"1\",\n        max_page: page || \"1\",\n        output: \"json\",\n        include_html: \"false\"\n    };\n    const bluecartParams = {\n        api_key: process.env.BLUECART_API_KEY,\n        search_term: term,\n        type: \"search\",\n        sort_by: \"best_match\",\n        page: page || \"1\",\n        max_page: page || \"1\",\n        output: \"json\",\n        include_html: \"false\"\n    };\n    try {\n        const [rainforestResponse, bluecartResponse] = await Promise.all([\n            axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://api.rainforestapi.com/request\", {\n                params: rainforestParams\n            }),\n            axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"https://api.bluecartapi.com/request\", {\n                params: bluecartParams\n            })\n        ]);\n        if (rainforestResponse.status === 200 && bluecartResponse.status === 200) {\n            const rainforestResults = rainforestResponse.data.search_results.map((item)=>({\n                    asin: item.asin,\n                    brand: item.brand,\n                    title: item.title,\n                    link: item.link,\n                    image: item.image,\n                    isPrime: item.is_prime,\n                    rating: item.rating,\n                    ratingsTotal: item.ratings_total,\n                    price: item.price ? item.price.raw : \"N/A\",\n                    availability: item.availability,\n                    delivery: item.delivery || {\n                        tagline: \"\",\n                        price: \"\"\n                    },\n                    shoppingAdvisors: item.shopping_advisors || []\n                }));\n            const bluecartResults = bluecartResponse.data.search_results.map(mapBluecartProduct);\n            const combinedResults = [\n                ...rainforestResults,\n                ...bluecartResults\n            ];\n            return res.status(200).json({\n                results: combinedResults\n            });\n        } else {\n            throw new Error(`API calls failed with statuses: Rainforest: ${rainforestResponse.status}, Bluecart: ${bluecartResponse.status}`);\n        }\n    } catch (error) {\n        console.error(\"Search API error:\", error.message);\n        if (error.response) {\n            return res.status(error.response.status).json({\n                message: error.response.data.message\n            });\n        } else {\n            return res.status(500).json({\n                error: \"Internal Server Error\"\n            });\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGFnZXMvYXBpL3NlYXJjaC5qcz81ZDNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IG1hcEJsdWVjYXJ0UHJvZHVjdCA9IChpdGVtKSA9PiAoe1xuICBhc2luOiBpdGVtLnByb2R1Y3QuaXRlbV9pZCwgLy8gVXNpbmcgaXRlbV9pZCBhcyBhIHVuaXF1ZSBpZGVudGlmaWVyXG4gIGJyYW5kOiBpdGVtLnByb2R1Y3QuYnJhbmQsXG4gIHRpdGxlOiBpdGVtLnByb2R1Y3QudGl0bGUsXG4gIGxpbms6IGl0ZW0ucHJvZHVjdC5saW5rLFxuICBpbWFnZTogaXRlbS5wcm9kdWN0Lm1haW5faW1hZ2UgfHwgKGl0ZW0ucHJvZHVjdC5pbWFnZXMubGVuZ3RoID4gMCA/IGl0ZW0ucHJvZHVjdC5pbWFnZXNbMF0gOiBcIlwiKSxcbiAgaXNQcmltZTogZmFsc2UsIC8vIEFzc3VtaW5nIEJsdWVjYXJ0IGRvZXNuJ3QgcHJvdmlkZSB0aGlzIGluZm9ybWF0aW9uXG4gIHJhdGluZzogaXRlbS5wcm9kdWN0LnJhdGluZyB8fCAwLFxuICByYXRpbmdzVG90YWw6IGl0ZW0ucHJvZHVjdC5yYXRpbmdzX3RvdGFsIHx8IDAsXG4gIHByaWNlOiBpdGVtLm9mZmVycy5wcmltYXJ5ID8gYCR7aXRlbS5vZmZlcnMucHJpbWFyeS5jdXJyZW5jeV9zeW1ib2x9JHtpdGVtLm9mZmVycy5wcmltYXJ5LnByaWNlfWAgOiBcIk4vQVwiLFxuICBhdmFpbGFiaWxpdHk6IGl0ZW0uaW52ZW50b3J5LmluX3N0b2NrID8gXCJJbiBzdG9ja1wiIDogXCJPdXQgb2Ygc3RvY2tcIixcbiAgZGVsaXZlcnk6IHtcbiAgICB0YWdsaW5lOiBpdGVtLmZ1bGZpbGxtZW50LnNoaXBwaW5nID8gYFNoaXBwaW5nIGF2YWlsYWJsZSBpbiAke2l0ZW0uZnVsZmlsbG1lbnQuc2hpcHBpbmdfZGF5c30gZGF5c2AgOiBcIk5vIHNoaXBwaW5nIGF2YWlsYWJsZVwiLFxuICAgIHByaWNlOiBcIlwiIC8vIE5vIGRlbGl2ZXJ5IHByaWNlIGluZm9ybWF0aW9uIGluIHRoZSBzYW1wbGUgcHJvdmlkZWRcbiAgfSxcbiAgc2hvcHBpbmdBZHZpc29yczogW10sIC8vIEFzc3VtaW5nIG5vIHNob3BwaW5nIGFkdmlzb3JzIGluIEJsdWVjYXJ0IGRhdGFcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIGNvbnNvbGUubG9nKCdNZXRob2Qgbm90IGFsbG93ZWQnKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZCgpOyAvLyBNZXRob2QgTm90IEFsbG93ZWRcbiAgfVxuXG4gIGNvbnN0IHsgdGVybSwgcGFnZSB9ID0gcmVxLnF1ZXJ5O1xuXG4gIGNvbnN0IHJhaW5mb3Jlc3RQYXJhbXMgPSB7XG4gICAgYXBpX2tleTogcHJvY2Vzcy5lbnYuUkFJTkZPUkVTVF9BUElfS0VZLFxuICAgIHR5cGU6IFwic2VhcmNoXCIsXG4gICAgYW1hem9uX2RvbWFpbjogXCJhbWF6b24uY29tXCIsXG4gICAgc2VhcmNoX3Rlcm06IHRlcm0sXG4gICAgZXhjbHVkZV9zcG9uc29yZWQ6IFwidHJ1ZVwiLFxuICAgIGN1cnJlbmN5OiBcInVzZFwiLFxuICAgIGFzc29jaWF0ZV9pZDogXCJjdHJpby0yMFwiLFxuICAgIHBhZ2U6IHBhZ2UgfHwgXCIxXCIsXG4gICAgbWF4X3BhZ2U6IHBhZ2UgfHwgXCIxXCIsXG4gICAgb3V0cHV0OiBcImpzb25cIixcbiAgICBpbmNsdWRlX2h0bWw6IFwiZmFsc2VcIlxuICB9O1xuXG4gIGNvbnN0IGJsdWVjYXJ0UGFyYW1zID0ge1xuICAgIGFwaV9rZXk6IHByb2Nlc3MuZW52LkJMVUVDQVJUX0FQSV9LRVksXG4gICAgc2VhcmNoX3Rlcm06IHRlcm0sXG4gICAgdHlwZTogXCJzZWFyY2hcIixcbiAgICBzb3J0X2J5OiBcImJlc3RfbWF0Y2hcIixcbiAgICBwYWdlOiBwYWdlIHx8IFwiMVwiLFxuICAgIG1heF9wYWdlOiBwYWdlIHx8IFwiMVwiLFxuICAgIG91dHB1dDogXCJqc29uXCIsXG4gICAgaW5jbHVkZV9odG1sOiBcImZhbHNlXCJcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IFtyYWluZm9yZXN0UmVzcG9uc2UsIGJsdWVjYXJ0UmVzcG9uc2VdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgYXhpb3MuZ2V0KCdodHRwczovL2FwaS5yYWluZm9yZXN0YXBpLmNvbS9yZXF1ZXN0JywgeyBwYXJhbXM6IHJhaW5mb3Jlc3RQYXJhbXMgfSksXG4gICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vYXBpLmJsdWVjYXJ0YXBpLmNvbS9yZXF1ZXN0JywgeyBwYXJhbXM6IGJsdWVjYXJ0UGFyYW1zIH0pXG4gICAgXSk7XG5cbiAgICBpZiAocmFpbmZvcmVzdFJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIGJsdWVjYXJ0UmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGNvbnN0IHJhaW5mb3Jlc3RSZXN1bHRzID0gcmFpbmZvcmVzdFJlc3BvbnNlLmRhdGEuc2VhcmNoX3Jlc3VsdHMubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICBhc2luOiBpdGVtLmFzaW4sXG4gICAgICAgIGJyYW5kOiBpdGVtLmJyYW5kLFxuICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgbGluazogaXRlbS5saW5rLFxuICAgICAgICBpbWFnZTogaXRlbS5pbWFnZSxcbiAgICAgICAgaXNQcmltZTogaXRlbS5pc19wcmltZSxcbiAgICAgICAgcmF0aW5nOiBpdGVtLnJhdGluZyxcbiAgICAgICAgcmF0aW5nc1RvdGFsOiBpdGVtLnJhdGluZ3NfdG90YWwsXG4gICAgICAgIHByaWNlOiBpdGVtLnByaWNlID8gaXRlbS5wcmljZS5yYXcgOiBcIk4vQVwiLFxuICAgICAgICBhdmFpbGFiaWxpdHk6IGl0ZW0uYXZhaWxhYmlsaXR5LFxuICAgICAgICBkZWxpdmVyeTogaXRlbS5kZWxpdmVyeSB8fCB7IHRhZ2xpbmU6IFwiXCIsIHByaWNlOiBcIlwiIH0sXG4gICAgICAgIHNob3BwaW5nQWR2aXNvcnM6IGl0ZW0uc2hvcHBpbmdfYWR2aXNvcnMgfHwgW10sXG4gICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IGJsdWVjYXJ0UmVzdWx0cyA9IGJsdWVjYXJ0UmVzcG9uc2UuZGF0YS5zZWFyY2hfcmVzdWx0cy5tYXAobWFwQmx1ZWNhcnRQcm9kdWN0KTtcblxuICAgICAgY29uc3QgY29tYmluZWRSZXN1bHRzID0gW1xuICAgICAgICAuLi5yYWluZm9yZXN0UmVzdWx0cyxcbiAgICAgICAgLi4uYmx1ZWNhcnRSZXN1bHRzXG4gICAgICBdO1xuXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyByZXN1bHRzOiBjb21iaW5lZFJlc3VsdHMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGNhbGxzIGZhaWxlZCB3aXRoIHN0YXR1c2VzOiBSYWluZm9yZXN0OiAke3JhaW5mb3Jlc3RSZXNwb25zZS5zdGF0dXN9LCBCbHVlY2FydDogJHtibHVlY2FydFJlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU2VhcmNoIEFQSSBlcnJvcjonLCBlcnJvci5tZXNzYWdlKTtcbiAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKGVycm9yLnJlc3BvbnNlLnN0YXR1cykuanNvbih7IG1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InIH0pO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbImF4aW9zIiwibWFwQmx1ZWNhcnRQcm9kdWN0IiwiaXRlbSIsImFzaW4iLCJwcm9kdWN0IiwiaXRlbV9pZCIsImJyYW5kIiwidGl0bGUiLCJsaW5rIiwiaW1hZ2UiLCJtYWluX2ltYWdlIiwiaW1hZ2VzIiwibGVuZ3RoIiwiaXNQcmltZSIsInJhdGluZyIsInJhdGluZ3NUb3RhbCIsInJhdGluZ3NfdG90YWwiLCJwcmljZSIsIm9mZmVycyIsInByaW1hcnkiLCJjdXJyZW5jeV9zeW1ib2wiLCJhdmFpbGFiaWxpdHkiLCJpbnZlbnRvcnkiLCJpbl9zdG9jayIsImRlbGl2ZXJ5IiwidGFnbGluZSIsImZ1bGZpbGxtZW50Iiwic2hpcHBpbmciLCJzaGlwcGluZ19kYXlzIiwic2hvcHBpbmdBZHZpc29ycyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJjb25zb2xlIiwibG9nIiwic3RhdHVzIiwiZW5kIiwidGVybSIsInBhZ2UiLCJxdWVyeSIsInJhaW5mb3Jlc3RQYXJhbXMiLCJhcGlfa2V5IiwicHJvY2VzcyIsImVudiIsIlJBSU5GT1JFU1RfQVBJX0tFWSIsInR5cGUiLCJhbWF6b25fZG9tYWluIiwic2VhcmNoX3Rlcm0iLCJleGNsdWRlX3Nwb25zb3JlZCIsImN1cnJlbmN5IiwiYXNzb2NpYXRlX2lkIiwibWF4X3BhZ2UiLCJvdXRwdXQiLCJpbmNsdWRlX2h0bWwiLCJibHVlY2FydFBhcmFtcyIsIkJMVUVDQVJUX0FQSV9LRVkiLCJzb3J0X2J5IiwicmFpbmZvcmVzdFJlc3BvbnNlIiwiYmx1ZWNhcnRSZXNwb25zZSIsIlByb21pc2UiLCJhbGwiLCJnZXQiLCJwYXJhbXMiLCJyYWluZm9yZXN0UmVzdWx0cyIsImRhdGEiLCJzZWFyY2hfcmVzdWx0cyIsIm1hcCIsImlzX3ByaW1lIiwicmF3Iiwic2hvcHBpbmdfYWR2aXNvcnMiLCJibHVlY2FydFJlc3VsdHMiLCJjb21iaW5lZFJlc3VsdHMiLCJqc29uIiwicmVzdWx0cyIsIkVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwicmVzcG9uc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/search.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsearch.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();