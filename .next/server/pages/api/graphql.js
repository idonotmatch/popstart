"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/graphql";
exports.ids = ["pages/api/graphql"];
exports.modules = {

/***/ "apollo-server-micro":
/*!**************************************!*\
  !*** external "apollo-server-micro" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("apollo-server-micro");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/***/ ((module) => {

module.exports = require("redis");

/***/ }),

/***/ "got":
/*!**********************!*\
  !*** external "got" ***!
  \**********************/
/***/ ((module) => {

module.exports = import("got");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgraphql&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgraphql.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgraphql&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgraphql.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_graphql_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/graphql.js */ \"(api)/./pages/api/graphql.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_graphql_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_graphql_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_graphql_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_graphql_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/graphql\",\n        pathname: \"/api/graphql\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_graphql_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdyYXBocWwmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmdyYXBocWwuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDbUQ7QUFDbkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGtEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxrREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1ncmFwaHFsLXByb2plY3QvPzcwMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9ncmFwaHFsLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZ3JhcGhxbFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dyYXBocWxcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgraphql&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgraphql.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/redisClient.js":
/*!****************************!*\
  !*** ./lib/redisClient.js ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst redis = __webpack_require__(/*! redis */ \"redis\");\nasync function createRedisClient() {\n    const client = redis.createClient({\n        url: process.env.REDIS_URL\n    });\n    client.on(\"error\", (err)=>{\n        console.log(\"Redis Client Error\", err);\n    });\n    try {\n        await client.connect();\n        console.log(\"Connected to Redis\");\n    } catch (err) {\n        console.error(\"Failed to connect to Redis\", err);\n    }\n    return client;\n}\nmodule.exports = createRedisClient();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcmVkaXNDbGllbnQuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLFFBQVFDLG1CQUFPQSxDQUFDO0FBRXRCLGVBQWVDO0lBQ2IsTUFBTUMsU0FBU0gsTUFBTUksWUFBWSxDQUFDO1FBQ2hDQyxLQUFLQyxRQUFRQyxHQUFHLENBQUNDLFNBQVM7SUFDNUI7SUFFQUwsT0FBT00sRUFBRSxDQUFDLFNBQVMsQ0FBQ0M7UUFDbEJDLFFBQVFDLEdBQUcsQ0FBQyxzQkFBc0JGO0lBQ3BDO0lBRUEsSUFBSTtRQUNGLE1BQU1QLE9BQU9VLE9BQU87UUFDcEJGLFFBQVFDLEdBQUcsQ0FBQztJQUNkLEVBQUUsT0FBT0YsS0FBSztRQUNaQyxRQUFRRyxLQUFLLENBQUMsOEJBQThCSjtJQUM5QztJQUVBLE9BQU9QO0FBQ1Q7QUFFQVksT0FBT0MsT0FBTyxHQUFHZCIsInNvdXJjZXMiOlsid2VicGFjazovL215LWdyYXBocWwtcHJvamVjdC8uL2xpYi9yZWRpc0NsaWVudC5qcz9lZWQyIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlZGlzID0gcmVxdWlyZSgncmVkaXMnKTtcblxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVkaXNDbGllbnQoKSB7XG4gIGNvbnN0IGNsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudCh7XG4gICAgdXJsOiBwcm9jZXNzLmVudi5SRURJU19VUkwsXG4gIH0pO1xuXG4gIGNsaWVudC5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1JlZGlzIENsaWVudCBFcnJvcicsIGVycik7XG4gIH0pO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFJlZGlzJyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIFJlZGlzJywgZXJyKTtcbiAgfVxuXG4gIHJldHVybiBjbGllbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlUmVkaXNDbGllbnQoKTtcbiJdLCJuYW1lcyI6WyJyZWRpcyIsInJlcXVpcmUiLCJjcmVhdGVSZWRpc0NsaWVudCIsImNsaWVudCIsImNyZWF0ZUNsaWVudCIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJSRURJU19VUkwiLCJvbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjb25uZWN0IiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/redisClient.js\n");

/***/ }),

/***/ "(api)/./pages/api/graphql.js":
/*!******************************!*\
  !*** ./pages/api/graphql.js ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var got__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! got */ \"got\");\n/* harmony import */ var _lib_redisClient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/redisClient.js */ \"(api)/./lib/redisClient.js\");\n/* harmony import */ var _lib_redisClient_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lib_redisClient_js__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([got__WEBPACK_IMPORTED_MODULE_1__]);\ngot__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst typeDefs = (0,apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.gql)`\n  type Query {\n    searchProducts(searchTerm: String!, source: String!): [Product]\n    searchProductsCombined(searchTerm: String!): [Product]\n  }\n\n  type Product {\n    asin: String\n    title: String\n    link: String\n    image: String\n    isPrime: Boolean\n    rating: Float\n    ratingsTotal: Int\n    price: String\n    availability: String\n    source: String\n    brand: String\n  }\n`;\nconst fetchWithRetry = async (url, params, retries = 3)=>{\n    let lastError;\n    const delay = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\n    for(let i = 0; i < retries; i++){\n        try {\n            const response = await (0,got__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(url, {\n                searchParams: params,\n                responseType: \"json\"\n            });\n            if (response.statusCode === 200) {\n                return response.body;\n            }\n            lastError = new Error(`API call failed with status: ${response.statusCode}`);\n        } catch (error) {\n            lastError = error;\n        }\n        await delay(1000 * Math.pow(2, i)); // Exponential backoff\n    }\n    throw lastError;\n};\nconst mapRainforestProduct = (item)=>({\n        asin: item.asin,\n        title: item.title,\n        link: item.link,\n        image: item.image,\n        isPrime: item.is_prime,\n        rating: item.rating,\n        ratingsTotal: item.ratings_total,\n        price: item.price?.value ? `$${item.price.value}` : \"Unavailable\",\n        availability: item.availability || \"Unavailable\",\n        source: \"rainforest\",\n        brand: item.brand || \"Unavailable\"\n    });\nconst mapBluecartProduct = (item)=>({\n        asin: item.product.item_id,\n        title: item.product.title,\n        link: item.product.link,\n        image: item.product.main_image || (item.product.images.length > 0 ? item.product.images[0] : \"\"),\n        isPrime: false,\n        rating: item.product.rating || 0,\n        ratingsTotal: item.product.ratings_total || 0,\n        price: item.offers.primary ? `${item.offers.primary.currency_symbol}${item.offers.primary.price}` : \"N/A\",\n        availability: item.inventory.in_stock ? \"In stock\" : \"Out of stock\",\n        source: \"bluecart\",\n        brand: item.product.brand || \"Unavailable\"\n    });\nconst resolvers = {\n    Query: {\n        searchProducts: async (_, { searchTerm, source })=>{\n            let data = [];\n            const start = performance.now(); // Start timer for logging\n            // Generate a unique cache key based on the search term and source\n            const cacheKey = `${source}:${searchTerm}`;\n            // Check Redis cache\n            const cachedResults = await _lib_redisClient_js__WEBPACK_IMPORTED_MODULE_2___default().get(cacheKey);\n            if (cachedResults) {\n                console.log(\"Returning cached results\");\n                return JSON.parse(cachedResults);\n            }\n            if (source === \"rainforest\") {\n                const params = {\n                    api_key: process.env.RAINFOREST_API_KEY,\n                    type: \"search\",\n                    amazon_domain: \"amazon.com\",\n                    search_term: searchTerm,\n                    fields: \"asin,title,link,image,is_prime,rating,ratings_total,price,availability,brand\" // Request only necessary fields\n                };\n                try {\n                    const response = await fetchWithRetry(\"https://api.rainforestapi.com/request\", params);\n                    data = response.search_results.map(mapRainforestProduct);\n                } catch (error) {\n                    console.error(\"Failed to fetch data from Rainforest API:\", error);\n                    throw new Error(\"Failed to fetch data\");\n                }\n            } else if (source === \"bluecart\") {\n                const params = {\n                    api_key: process.env.BLUECART_API_KEY,\n                    search_term: searchTerm,\n                    type: \"search\",\n                    sort_by: \"best_match\",\n                    page: \"1\",\n                    max_page: \"1\",\n                    output: \"json\",\n                    include_html: \"false\"\n                };\n                try {\n                    const response = await fetchWithRetry(\"https://api.bluecartapi.com/request\", params);\n                    data = response.search_results.map(mapBluecartProduct);\n                } catch (error) {\n                    console.error(\"Failed to fetch data from Bluecart API:\", error);\n                    throw new Error(\"Failed to fetch data\");\n                }\n            }\n            // Store results in Redis with a 24-hour expiration time\n            await _lib_redisClient_js__WEBPACK_IMPORTED_MODULE_2___default().set(cacheKey, JSON.stringify(data), {\n                EX: 86400\n            });\n            const end = performance.now(); // End timer\n            console.log(`API call for ${source} took ${end - start} milliseconds`); // Log time taken\n            return data;\n        },\n        searchProductsCombined: async (_, { searchTerm })=>{\n            const start = performance.now(); // Start timer\n            const [rainforestResults, bluecartResults] = await Promise.all([\n                resolvers.Query.searchProducts(_, {\n                    searchTerm,\n                    source: \"rainforest\"\n                }),\n                resolvers.Query.searchProducts(_, {\n                    searchTerm,\n                    source: \"bluecart\"\n                })\n            ]);\n            const end = performance.now(); // End timer\n            console.log(`Combined search took ${end - start} milliseconds`); // Log time taken\n            return [\n                ...rainforestResults,\n                ...bluecartResults\n            ];\n        }\n    }\n};\nconst apolloServer = new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.ApolloServer({\n    typeDefs,\n    resolvers\n});\nasync function handler(req, res) {\n    await apolloServer.start();\n    return apolloServer.createHandler({\n        path: \"/api/graphql\"\n    })(req, res);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS21CLFNBQVMsQ0FBQzVCLE9BQU87Z0JBQ3BENkIsSUFBSTtZQUNOO1lBRUEsTUFBTUMsTUFBTTVCLFlBQVlDLEdBQUcsSUFBSSxZQUFZO1lBQzNDSSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUxQixPQUFPLE1BQU0sRUFBRWdELE1BQU03QixNQUFNLGFBQWEsQ0FBQyxHQUFHLGlCQUFpQjtZQUV6RixPQUFPRDtRQUNUO1FBQ0ErQix3QkFBd0IsT0FBT2pDLEdBQUcsRUFBRUMsVUFBVSxFQUFFO1lBQzlDLE1BQU1FLFFBQVFDLFlBQVlDLEdBQUcsSUFBSSxjQUFjO1lBQy9DLE1BQU0sQ0FBQzZCLG1CQUFtQkMsZ0JBQWdCLEdBQUcsTUFBTTlFLFFBQVErRSxHQUFHLENBQUM7Z0JBQzdEdkMsVUFBVUMsS0FBSyxDQUFDQyxjQUFjLENBQUNDLEdBQUc7b0JBQUVDO29CQUFZakIsUUFBUTtnQkFBYTtnQkFDckVhLFVBQVVDLEtBQUssQ0FBQ0MsY0FBYyxDQUFDQyxHQUFHO29CQUFFQztvQkFBWWpCLFFBQVE7Z0JBQVc7YUFDcEU7WUFDRCxNQUFNZ0QsTUFBTTVCLFlBQVlDLEdBQUcsSUFBSSxZQUFZO1lBQzNDSSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxxQkFBcUIsRUFBRXNCLE1BQU03QixNQUFNLGFBQWEsQ0FBQyxHQUFHLGlCQUFpQjtZQUVsRixPQUFPO21CQUFJK0I7bUJBQXNCQzthQUFnQjtRQUNuRDtJQUNGO0FBQ0Y7QUFFQSxNQUFNRSxlQUFlLElBQUk1Riw2REFBWUEsQ0FBQztJQUFFSTtJQUFVZ0Q7QUFBVTtBQUU3QyxlQUFleUMsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLE1BQU1ILGFBQWFsQyxLQUFLO0lBQ3hCLE9BQU9rQyxhQUFhSSxhQUFhLENBQUM7UUFBRUMsTUFBTTtJQUFlLEdBQUdILEtBQUtDO0FBQ25FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktZ3JhcGhxbC1wcm9qZWN0Ly4vcGFnZXMvYXBpL2dyYXBocWwuanM/NzY2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcG9sbG9TZXJ2ZXIsIGdxbCB9IGZyb20gJ2Fwb2xsby1zZXJ2ZXItbWljcm8nO1xuaW1wb3J0IGdvdCBmcm9tICdnb3QnO1xuaW1wb3J0IHJlZGlzQ2xpZW50IGZyb20gJy4uLy4uL2xpYi9yZWRpc0NsaWVudC5qcyc7XG5cbmNvbnN0IHR5cGVEZWZzID0gZ3FsYFxuICB0eXBlIFF1ZXJ5IHtcbiAgICBzZWFyY2hQcm9kdWN0cyhzZWFyY2hUZXJtOiBTdHJpbmchLCBzb3VyY2U6IFN0cmluZyEpOiBbUHJvZHVjdF1cbiAgICBzZWFyY2hQcm9kdWN0c0NvbWJpbmVkKHNlYXJjaFRlcm06IFN0cmluZyEpOiBbUHJvZHVjdF1cbiAgfVxuXG4gIHR5cGUgUHJvZHVjdCB7XG4gICAgYXNpbjogU3RyaW5nXG4gICAgdGl0bGU6IFN0cmluZ1xuICAgIGxpbms6IFN0cmluZ1xuICAgIGltYWdlOiBTdHJpbmdcbiAgICBpc1ByaW1lOiBCb29sZWFuXG4gICAgcmF0aW5nOiBGbG9hdFxuICAgIHJhdGluZ3NUb3RhbDogSW50XG4gICAgcHJpY2U6IFN0cmluZ1xuICAgIGF2YWlsYWJpbGl0eTogU3RyaW5nXG4gICAgc291cmNlOiBTdHJpbmdcbiAgICBicmFuZDogU3RyaW5nXG4gIH1cbmA7XG5cbmNvbnN0IGZldGNoV2l0aFJldHJ5ID0gYXN5bmMgKHVybCwgcGFyYW1zLCByZXRyaWVzID0gMykgPT4ge1xuICBsZXQgbGFzdEVycm9yO1xuICBjb25zdCBkZWxheSA9IChtcykgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXRyaWVzOyBpKyspIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnb3QodXJsLCB7IHNlYXJjaFBhcmFtczogcGFyYW1zLCByZXNwb25zZVR5cGU6ICdqc29uJyB9KTtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJvZHk7XG4gICAgICB9XG4gICAgICBsYXN0RXJyb3IgPSBuZXcgRXJyb3IoYEFQSSBjYWxsIGZhaWxlZCB3aXRoIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXNDb2RlfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gICAgYXdhaXQgZGVsYXkoMTAwMCAqIE1hdGgucG93KDIsIGkpKTsgLy8gRXhwb25lbnRpYWwgYmFja29mZlxuICB9XG4gIHRocm93IGxhc3RFcnJvcjtcbn07XG5cbmNvbnN0IG1hcFJhaW5mb3Jlc3RQcm9kdWN0ID0gKGl0ZW0pID0+ICh7XG4gIGFzaW46IGl0ZW0uYXNpbixcbiAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gIGxpbms6IGl0ZW0ubGluayxcbiAgaW1hZ2U6IGl0ZW0uaW1hZ2UsXG4gIGlzUHJpbWU6IGl0ZW0uaXNfcHJpbWUsXG4gIHJhdGluZzogaXRlbS5yYXRpbmcsXG4gIHJhdGluZ3NUb3RhbDogaXRlbS5yYXRpbmdzX3RvdGFsLFxuICBwcmljZTogaXRlbS5wcmljZT8udmFsdWUgPyBgJCR7aXRlbS5wcmljZS52YWx1ZX1gIDogJ1VuYXZhaWxhYmxlJyxcbiAgYXZhaWxhYmlsaXR5OiBpdGVtLmF2YWlsYWJpbGl0eSB8fCAnVW5hdmFpbGFibGUnLFxuICBzb3VyY2U6ICdyYWluZm9yZXN0JyxcbiAgYnJhbmQ6IGl0ZW0uYnJhbmQgfHwgJ1VuYXZhaWxhYmxlJ1xufSk7XG5cbmNvbnN0IG1hcEJsdWVjYXJ0UHJvZHVjdCA9IChpdGVtKSA9PiAoe1xuICBhc2luOiBpdGVtLnByb2R1Y3QuaXRlbV9pZCxcbiAgdGl0bGU6IGl0ZW0ucHJvZHVjdC50aXRsZSxcbiAgbGluazogaXRlbS5wcm9kdWN0LmxpbmssXG4gIGltYWdlOiBpdGVtLnByb2R1Y3QubWFpbl9pbWFnZSB8fCAoaXRlbS5wcm9kdWN0LmltYWdlcy5sZW5ndGggPiAwID8gaXRlbS5wcm9kdWN0LmltYWdlc1swXSA6IFwiXCIpLFxuICBpc1ByaW1lOiBmYWxzZSxcbiAgcmF0aW5nOiBpdGVtLnByb2R1Y3QucmF0aW5nIHx8IDAsXG4gIHJhdGluZ3NUb3RhbDogaXRlbS5wcm9kdWN0LnJhdGluZ3NfdG90YWwgfHwgMCxcbiAgcHJpY2U6IGl0ZW0ub2ZmZXJzLnByaW1hcnkgPyBgJHtpdGVtLm9mZmVycy5wcmltYXJ5LmN1cnJlbmN5X3N5bWJvbH0ke2l0ZW0ub2ZmZXJzLnByaW1hcnkucHJpY2V9YCA6IFwiTi9BXCIsXG4gIGF2YWlsYWJpbGl0eTogaXRlbS5pbnZlbnRvcnkuaW5fc3RvY2sgPyBcIkluIHN0b2NrXCIgOiBcIk91dCBvZiBzdG9ja1wiLFxuICBzb3VyY2U6ICdibHVlY2FydCcsXG4gIGJyYW5kOiBpdGVtLnByb2R1Y3QuYnJhbmQgfHwgJ1VuYXZhaWxhYmxlJ1xufSk7XG5cbmNvbnN0IHJlc29sdmVycyA9IHtcbiAgUXVlcnk6IHtcbiAgICBzZWFyY2hQcm9kdWN0czogYXN5bmMgKF8sIHsgc2VhcmNoVGVybSwgc291cmNlIH0pID0+IHtcbiAgICAgIGxldCBkYXRhID0gW107XG4gICAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOyAvLyBTdGFydCB0aW1lciBmb3IgbG9nZ2luZ1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBjYWNoZSBrZXkgYmFzZWQgb24gdGhlIHNlYXJjaCB0ZXJtIGFuZCBzb3VyY2VcbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7c291cmNlfToke3NlYXJjaFRlcm19YDtcblxuICAgICAgLy8gQ2hlY2sgUmVkaXMgY2FjaGVcbiAgICAgIGNvbnN0IGNhY2hlZFJlc3VsdHMgPSBhd2FpdCByZWRpc0NsaWVudC5nZXQoY2FjaGVLZXkpO1xuICAgICAgaWYgKGNhY2hlZFJlc3VsdHMpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBjYWNoZWQgcmVzdWx0cycpO1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShjYWNoZWRSZXN1bHRzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNvdXJjZSA9PT0gJ3JhaW5mb3Jlc3QnKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICBhcGlfa2V5OiBwcm9jZXNzLmVudi5SQUlORk9SRVNUX0FQSV9LRVksXG4gICAgICAgICAgdHlwZTogXCJzZWFyY2hcIixcbiAgICAgICAgICBhbWF6b25fZG9tYWluOiBcImFtYXpvbi5jb21cIixcbiAgICAgICAgICBzZWFyY2hfdGVybTogc2VhcmNoVGVybSxcbiAgICAgICAgICBmaWVsZHM6IFwiYXNpbix0aXRsZSxsaW5rLGltYWdlLGlzX3ByaW1lLHJhdGluZyxyYXRpbmdzX3RvdGFsLHByaWNlLGF2YWlsYWJpbGl0eSxicmFuZFwiIC8vIFJlcXVlc3Qgb25seSBuZWNlc3NhcnkgZmllbGRzXG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aFJldHJ5KCdodHRwczovL2FwaS5yYWluZm9yZXN0YXBpLmNvbS9yZXF1ZXN0JywgcGFyYW1zKTtcbiAgICAgICAgICBkYXRhID0gcmVzcG9uc2Uuc2VhcmNoX3Jlc3VsdHMubWFwKG1hcFJhaW5mb3Jlc3RQcm9kdWN0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZGF0YSBmcm9tIFJhaW5mb3Jlc3QgQVBJOicsIGVycm9yKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBkYXRhJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc291cmNlID09PSAnYmx1ZWNhcnQnKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICBhcGlfa2V5OiBwcm9jZXNzLmVudi5CTFVFQ0FSVF9BUElfS0VZLFxuICAgICAgICAgIHNlYXJjaF90ZXJtOiBzZWFyY2hUZXJtLFxuICAgICAgICAgIHR5cGU6IFwic2VhcmNoXCIsXG4gICAgICAgICAgc29ydF9ieTogXCJiZXN0X21hdGNoXCIsXG4gICAgICAgICAgcGFnZTogXCIxXCIsXG4gICAgICAgICAgbWF4X3BhZ2U6IFwiMVwiLFxuICAgICAgICAgIG91dHB1dDogXCJqc29uXCIsXG4gICAgICAgICAgaW5jbHVkZV9odG1sOiBcImZhbHNlXCJcbiAgICAgICAgfTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoUmV0cnkoJ2h0dHBzOi8vYXBpLmJsdWVjYXJ0YXBpLmNvbS9yZXF1ZXN0JywgcGFyYW1zKTtcbiAgICAgICAgICBkYXRhID0gcmVzcG9uc2Uuc2VhcmNoX3Jlc3VsdHMubWFwKG1hcEJsdWVjYXJ0UHJvZHVjdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGRhdGEgZnJvbSBCbHVlY2FydCBBUEk6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBTdG9yZSByZXN1bHRzIGluIFJlZGlzIHdpdGggYSAyNC1ob3VyIGV4cGlyYXRpb24gdGltZVxuICAgICAgYXdhaXQgcmVkaXNDbGllbnQuc2V0KGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSwge1xuICAgICAgICBFWDogODY0MDAsIC8vIDI0IGhvdXJzXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZW5kID0gcGVyZm9ybWFuY2Uubm93KCk7IC8vIEVuZCB0aW1lclxuICAgICAgY29uc29sZS5sb2coYEFQSSBjYWxsIGZvciAke3NvdXJjZX0gdG9vayAke2VuZCAtIHN0YXJ0fSBtaWxsaXNlY29uZHNgKTsgLy8gTG9nIHRpbWUgdGFrZW5cblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBzZWFyY2hQcm9kdWN0c0NvbWJpbmVkOiBhc3luYyAoXywgeyBzZWFyY2hUZXJtIH0pID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7IC8vIFN0YXJ0IHRpbWVyXG4gICAgICBjb25zdCBbcmFpbmZvcmVzdFJlc3VsdHMsIGJsdWVjYXJ0UmVzdWx0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHJlc29sdmVycy5RdWVyeS5zZWFyY2hQcm9kdWN0cyhfLCB7IHNlYXJjaFRlcm0sIHNvdXJjZTogJ3JhaW5mb3Jlc3QnIH0pLFxuICAgICAgICByZXNvbHZlcnMuUXVlcnkuc2VhcmNoUHJvZHVjdHMoXywgeyBzZWFyY2hUZXJtLCBzb3VyY2U6ICdibHVlY2FydCcgfSlcbiAgICAgIF0pO1xuICAgICAgY29uc3QgZW5kID0gcGVyZm9ybWFuY2Uubm93KCk7IC8vIEVuZCB0aW1lclxuICAgICAgY29uc29sZS5sb2coYENvbWJpbmVkIHNlYXJjaCB0b29rICR7ZW5kIC0gc3RhcnR9IG1pbGxpc2Vjb25kc2ApOyAvLyBMb2cgdGltZSB0YWtlblxuXG4gICAgICByZXR1cm4gWy4uLnJhaW5mb3Jlc3RSZXN1bHRzLCAuLi5ibHVlY2FydFJlc3VsdHNdO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgYXBvbGxvU2VydmVyID0gbmV3IEFwb2xsb1NlcnZlcih7IHR5cGVEZWZzLCByZXNvbHZlcnMgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgYXdhaXQgYXBvbGxvU2VydmVyLnN0YXJ0KCk7XG4gIHJldHVybiBhcG9sbG9TZXJ2ZXIuY3JlYXRlSGFuZGxlcih7IHBhdGg6ICcvYXBpL2dyYXBocWwnIH0pKHJlcSwgcmVzKTtcbn1cbiJdLCJuYW1lcyI6WyJBcG9sbG9TZXJ2ZXIiLCJncWwiLCJnb3QiLCJyZWRpc0NsaWVudCIsInR5cGVEZWZzIiwiZmV0Y2hXaXRoUmV0cnkiLCJ1cmwiLCJwYXJhbXMiLCJyZXRyaWVzIiwibGFzdEVycm9yIiwiZGVsYXkiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImkiLCJyZXNwb25zZSIsInNlYXJjaFBhcmFtcyIsInJlc3BvbnNlVHlwZSIsInN0YXR1c0NvZGUiLCJib2R5IiwiRXJyb3IiLCJlcnJvciIsIk1hdGgiLCJwb3ciLCJtYXBSYWluZm9yZXN0UHJvZHVjdCIsIml0ZW0iLCJhc2luIiwidGl0bGUiLCJsaW5rIiwiaW1hZ2UiLCJpc1ByaW1lIiwiaXNfcHJpbWUiLCJyYXRpbmciLCJyYXRpbmdzVG90YWwiLCJyYXRpbmdzX3RvdGFsIiwicHJpY2UiLCJ2YWx1ZSIsImF2YWlsYWJpbGl0eSIsInNvdXJjZSIsImJyYW5kIiwibWFwQmx1ZWNhcnRQcm9kdWN0IiwicHJvZHVjdCIsIml0ZW1faWQiLCJtYWluX2ltYWdlIiwiaW1hZ2VzIiwibGVuZ3RoIiwib2ZmZXJzIiwicHJpbWFyeSIsImN1cnJlbmN5X3N5bWJvbCIsImludmVudG9yeSIsImluX3N0b2NrIiwicmVzb2x2ZXJzIiwiUXVlcnkiLCJzZWFyY2hQcm9kdWN0cyIsIl8iLCJzZWFyY2hUZXJtIiwiZGF0YSIsInN0YXJ0IiwicGVyZm9ybWFuY2UiLCJub3ciLCJjYWNoZUtleSIsImNhY2hlZFJlc3VsdHMiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInBhcnNlIiwiYXBpX2tleSIsInByb2Nlc3MiLCJlbnYiLCJSQUlORk9SRVNUX0FQSV9LRVkiLCJ0eXBlIiwiYW1hem9uX2RvbWFpbiIsInNlYXJjaF90ZXJtIiwiZmllbGRzIiwic2VhcmNoX3Jlc3VsdHMiLCJtYXAiLCJCTFVFQ0FSVF9BUElfS0VZIiwic29ydF9ieSIsInBhZ2UiLCJtYXhfcGFnZSIsIm91dHB1dCIsImluY2x1ZGVfaHRtbCIsInNldCIsInN0cmluZ2lmeSIsIkVYIiwiZW5kIiwic2VhcmNoUHJvZHVjdHNDb21iaW5lZCIsInJhaW5mb3Jlc3RSZXN1bHRzIiwiYmx1ZWNhcnRSZXN1bHRzIiwiYWxsIiwiYXBvbGxvU2VydmVyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNyZWF0ZUhhbmRsZXIiLCJwYXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/graphql.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgraphql&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fgraphql.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();